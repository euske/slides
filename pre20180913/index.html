<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="./slides.css">
<title>博士中間審査 資料 2018/9/13 新山祐介</title>
<style><!--
.s { font-size: 80%; line-height: 120%; }
.ub { text-decoration: overline; }
.example { border: 2px solid black; padding: 8px; margin: 8px; }
.comment { color: green; }
.figure td,th { border: 2px solid black; padding: 4px; }
.right td { text-align: right; }
--></style>
</head>
<body>

<div class=page>
<table class=fill>
<tr><td align=center valign=center>
博士中間審査<br>
「データフロー解析を用いた<br>
ソフトウェア理解の支援」
</td></tr>
</table>
<div class=bottomright>
指導教官: 権藤 克彦 教授<br>
発表者: 新山 祐介, 2018/09/13
</div>
</div>

<div class=page>
<h1>研究の背景</h1>
<ul>
<li> ソフトウェアの問題は深刻である。<br>
  Tesla Model X の Autopilot 事故 (2018年3月)<br>
  <a href="https://www.ntsb.gov/investigations/AccidentReports/Pages/HWY18FH011-preliminary.aspx"><img src="https://www.ntsb.gov/investigations/AccidentReports/PublishingImages/hwy18fh011-fig1.JPG"></a>
</ul>
</div>

<div class=page>
<h1>問題への対策</h1>
<ul>
<li> 複雑な問題であり、複数の側面から取り組む必要がある:
<div class=figure>
<svg xmlns="http://www.w3.org/2000/svg" 
     xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1" width="650" height="390">
  <defs>
    <marker id="rarrow" viewBox="-5 -5 10 10" orient="auto">
      <polygon points="-5,-5 5,0 -5,5" fill="red" stroke="none" />
    </marker>
    <marker id="barrow" viewBox="-5 -5 10 10" orient="auto">
      <polygon points="-5,-5 5,0 -5,5" fill="black" stroke="none" />
    </marker>
  </defs>
  <ellipse stroke="black" fill="#4ff" stroke-width="4"
           cx="300" cy="200" rx="200" ry="120" />
  <g text-anchor="middle" fill="black">
    <text x="50" y="100">言語</text>
    <text x="200" y="50">ツール</text>
    <text x="400" y="70">モデル</text>
    <text x="560" y="130">設計手法</text>
    <text fill="red" x="250" y="370">ソフトウェア理解支援</text>
    <text x="300" y="200" dy="-0.2em">ソフトウェア</text>
    <text x="300" y="200" dy="1.0em">問題</text>
  </g>
  <g stroke="black" fill="none"
     stroke-width="8" marker-end="url(#barrow)">
    <path d="M100,100 l80,50" />
    <path d="M200,70 l30,60" />
    <path d="M380,80 l-30,60" />
    <path d="M480,130 l-50,30" />
    <path d="M240,330 l30,-60" 
          stroke="red" stroke-width="10" marker-end="url(#rarrow)"/>
  </g>
</svg>
</div>
</ul>
</div>

<div class=page>
<h1>ソフトウェア理解の支援とは?</h1>
<ul>
<li> 文書化。
<li> 理解しやすいコード作成の支援。
<li> リバースエンジニアリング。
</ul>
</div>

<div class=page>
<h1>これまでの研究成果</h1>
<ul>
<li> コーディング中の表情を分析する:
  <div class=s>"CodeCAM: Capturing Programmer's Reaction during Coding Session",
  MAINT 2018</div>
<li> コメントに書かれた文章を分析する:
  <div class=s>"Analyzing Code Comments to Boost Program Comprehension",
  APSEC 2018 投稿済</div>
<li> → どちらも、ソフトウェア理解を支援するための
  メタ情報の取得を目標としている。
</ul>
</div>

<div class=page>
<h1>博士論文の目標</h1>
<ul>
<li> ソースコードのデータフローを解析し、
  関数の機能・制約に関する情報を抽出する。
<li style="position:relative; height: 7em;"> データフローとは?
<pre>
a = 2;
b = a + 3;
if (c) { b--; }
</pre>
<div class=figure style="position: absolute; right: 0; top: 10;">
<svg xmlns="http://www.w3.org/2000/svg" 
     xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1" width="360" height="390">
  <defs>
    <marker id="barrow" viewBox="-5 -5 10 10" orient="auto">
      <polygon points="-5,-5 5,0 -5,5" fill="black" stroke="none" />
    </marker>
  </defs>
  <rect fill="white" width="100%" height="100%" />
  <g fill="none" stroke="black" stroke-width="4" marker-end="url(#barrow)">
    <path d="M60,35 q0,50,40,80" />
    <path d="M220,75 q0,20,-50,50" />
    <path d="M130,150 q0,50,40,80" />
    <path d="M130,150 q70,-10,115,10" />
    <path d="M300,170 q0,40,-60,60" />
    <path d="M40,240 q20,20,90,10" stroke-dasharray="8,8" />
  </g>
  <g fill="white" stroke="black" stroke-width="2">
    <rect x="10" y="10" width="100" height="50" />
    <rect x="170" y="50" width="100" height="50" />
    <ellipse cx="130" cy="150" rx="50" ry="30" />
    <ellipse cx="300" cy="170" rx="50" ry="30" />
    <path d="M200,250 m-60,0 l60,-30 l60,30 l-60,30 l-60,-30" />
  </g>
  <g text-anchor="middle" style="font-family: monospace;">
    <text x="60" y="50">2</text>
    <text x="220" y="90">3</text>
    <text x="130" y="160">+</text>
    <text x="300" y="180">--</text>
    <text x="200" y="260">join</text>
    <text x="130" y="40">a</text>
    <text x="290" y="80">b</text>
    <text x="280" y="270">b</text>
    <text x="20" y="240">c</text>
    <text x="130" y="210" text-anchor="end">false</text>
    <text x="280" y="230" text-anchor="start">true</text>
  </g>
</svg>
</div>
</ul>
</div>

<div class=page>
<h1>なぜデータフローが重要か?</h1>
<ul>
<li> "データ構造があればフローチャートは不要だ。"
  - <em>Fred Brooks</em>
<li> "アルゴリズムではなくデータ構造こそがプログラミングの中心である。"
  - <em>Rob Pike</em>
<li> "良いプログラマはデータ構造について悩む。"
  - <em>Linus Torvalds</em>
</ul>
</div>

<div class=page>
<h1>既存研究</h1>
<ul>
<li> CFG-reachabilityを用いたデータフロー解析。
  (Reps et al., 1988)
<li> 大量のコーパスから獲得した知識によりコードの変数名を推測する。
  (Raychev et al., 2014)
<li> データフローをグラフとして表現し、バグを発見する。
  (Brockschmidt et al., 2018)
</ul>
</div>

<div class=page>
<h1>本研究の新規性</h1>
<ul>
  <li> コードをデータフロー解析のための一般的な意味形式に変換する。
  <li> プログラム全体にわたる (interprocedural な) 情報を活用し、
    より詳細な解析をおこなう。
</ul>
</div>

<div class=page>
<h1>データフローグラフ FGyama</h1>
<ul>
  <li> 手続き型言語の各変数・引数間における
    データフロー表現グラフ。
  <li> Interprocedural, Flow/Context/Field-sensitive.
  <li> 条件分岐、ループ、例外を表現可能。
  <li> "パターンマッチングのためのデータフローグラフ抽出器の実装", SIGSS 2017
</ul>
</div>

<div class=page>
<h1>今後の計画</h1>
<ul>
<li> データフロー表現のための一般的な形式 FGyama を設計する (済)。
<li> <a href="https://github.com/euske/fgyama/">Javaソースコード → FGyama 変換ツール</a>を実装する (ほぼ済)。 
<li> GitHubからのデータ収集 (済)。
<li> 素性を抽出し、興味深い結果をみつける。
<li> 国際会議で発表後、論文誌に投稿予定。
</ul>
</div>
